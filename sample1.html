<html>

<body>

    <input id="msg"></input>
    <input type="button" onclick="sendMsg()"></input>

    <p id="text"></p>
    <script>
        const socket = new WebSocket('ws://localhost:1000');

        // Connection opened
        socket.addEventListener('open', function (event) {
            console.log('Socked connected', event);
            document.getElementById("text").innerText += "socket connected " + JSON.stringify(event) + "\n"
        });

        // Listen for messages
        socket.addEventListener('message', async function (event) {
            document.getElementById("text").innerText += await event.data.text()
            console.log('Message from server ', event.data);
        });

        function sendMsg() {
            socket.send(document.getElementById("msg").value + "\n")
        }
    </script>



</body>

</html>